<div class="mission-dialog-container">
  <h2 mat-dialog-title>
    <div class="title-content">
      <mat-icon>{{ missionData.id ? 'edit_note' : 'add_task' }}</mat-icon>
      <span>{{ missionData.id ? 'Edit Mission (‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç)' : 'New Mission (‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà)' }}</span>
    </div>
  </h2>

  <mat-dialog-content>
    <div class="form-container">

      <!-- Name -->
      <mat-form-field appearance="outline" class="full-width custom-field">
        <mat-label>Mission Name</mat-label>
        <input matInput placeholder="Ex. Kill the Dragon" [(ngModel)]="missionData.name">
        <mat-icon matSuffix>title</mat-icon>
      </mat-form-field>

      <!-- Description -->
      <mat-form-field appearance="outline" class="full-width custom-field">
        <mat-label>Description</mat-label>
        <textarea matInput rows="4" placeholder="Mission details..." [(ngModel)]="missionData.description"></textarea>
      </mat-form-field>

      <!-- Row: Diff & Points -->
      <div class="form-row">
        <mat-form-field appearance="outline" class="custom-field">
          <mat-label>Difficulty</mat-label>
          <mat-select [(ngModel)]="missionData.difficulty" (selectionChange)="updatePoints()">
            <mat-option value="EASY">
              <span class="diff-badge easy">EASY</span> (‡∏á‡πà‡∏≤‡∏¢)
            </mat-option>
            <mat-option value="NORMAL">
              <span class="diff-badge normal">NORMAL</span> (‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á)
            </mat-option>
            <mat-option value="HARD">
              <span class="diff-badge hard">HARD</span> (‡∏¢‡∏≤‡∏Å)
            </mat-option>

          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="outline" class="custom-field">
          <mat-label>Base Points</mat-label>
          <input matInput type="number" readonly [(ngModel)]="missionData.base_points">
          <span matSuffix class="suffix-text">PTS</span>
        </mat-form-field>
      </div>

      <!-- Row: Crew & Status -->
      <div class="form-row">
        <mat-form-field appearance="outline" class="custom-field">
          <mat-label>Max Crew</mat-label>
          <input matInput type="number" min="1" [(ngModel)]="missionData.max_crew">
          <mat-icon matSuffix>group</mat-icon>
        </mat-form-field>

        <mat-form-field appearance="outline" class="custom-field" *ngIf="missionData.id">
          <mat-label>Status</mat-label>
          <mat-select [(ngModel)]="missionData.status">
            <mat-option value="Open">üîµ Open</mat-option>
            <mat-option value="InProgress">üü° In Progress</mat-option>
            <mat-option value="Completed">üü¢ Completed</mat-option>
            <mat-option value="Failed">üî¥ Failed</mat-option>
          </mat-select>
        </mat-form-field>
      </div>

    </div>
  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button mat-stroked-button mat-dialog-close class="cancel-btn">Cancel</button>
    <button mat-flat-button color="primary" class="save-btn" (click)="onSubmit()">
      {{ missionData.id ? 'Save Changes' : 'Create Mission' }}
    </button>
  </mat-dialog-actions>
</div>